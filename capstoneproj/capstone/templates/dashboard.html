{% extends 'base.html' %}
<head>
<!-- Bootstrap CSS -->
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet">

  <link href="https://cdn.datatables.net/1.10.18/css/dataTables.bootstrap4.min.css" rel="stylesheet">

<!-- Bootstrap core JavaScript-->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<!-- Google Font API-->
<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Monofett&display=swap" rel="stylesheet">

<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Nunito&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.1/css/all.css" integrity="sha384-gfdkjb5BdAXd+lj+gudLWI+BXq4IuLW5IT+brZEZsLFm++aCMlF1V92rMkPaX4PP" crossorigin="anonymous">


<!-- Page level plugin JavaScript-->
  <script src="https://cdn.datatables.net/1.10.18/js/jquery.dataTables.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.4/dist/Chart.min.js"></script>
  <script src="https://cdn.plot.ly/plotly.latest.min.js"></script>
  <script src="https://cdn.datatables.net/1.10.18/js/dataTables.bootstrap4.min.js"></script>
  <link href="https://cdn.datatables.net/1.10.18/css/dataTables.bootstrap4.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
{% block content %}
{% csrf_token %}

{% if ticker %}
  {{ ticker }}
{% endif %}

{% if api %}
	{% if api == "Error..."%}
	There was a problem with your ticker symbol, please try again...
	{% else %}
		<h1>{{api.companyName}}</h1><br/>
		<table class="table table-striped table-hover">
			<thead class="thead-light">
			<tr>
			    <td scope="col">Current Price</td>
			    <td scope="col">Previous Close</td>
			    <td scope="col">Market Cap</td>
			    <td scope="col">YTD Change</td>
			    <td scope="col">52Wk High</td>
			    <td scope="col">52Wk Low</td>
			</tr>
			</thead>
			<tbody>
			<tr>
				<td>${{ api.latestPrice }}</td>
				<td>${{ api.previousClose }}</td>
				<td>${{ api.marketCap }}</td>
				<td>{{ api.ytdChange }}%</td>
				<td>${{ api.week52High }}</td>
				<td>${{ api.week52Low }}</td>
			</tr>
			</tbody>
		</table><br/><br/>


	{% endif %}
{% endif %}
{% endblock %}